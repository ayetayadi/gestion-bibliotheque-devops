<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard | BiblioNet</title>

    <link rel="stylesheet" th:href="@{/css/main.css}">

</head>

<body>

<div th:replace="layout/header :: header"></div>
<div th:replace="layout/sidebar :: sidebar"></div>

<main class="content">
    <div class="card">

        <h2>Bienvenue sur BiblioNet</h2>

        <p>
            ConnectÃ© en tant que :
            <strong th:text="${#authentication.authorities[0].authority}"></strong>
        </p>

        <!-- ================= SUPER ADMIN ================= -->
        <div th:if="${#authorization.expression('hasRole(''SUPER_ADMIN'')')}">
            <h3>ğŸ‘‘ Super Administrateur</h3>
            <ul>
                <li>CrÃ©er et gÃ©rer les bibliothÃ¨ques</li>
                <li>CrÃ©er et gÃ©rer les administrateurs</li>
                <li>Vision globale du rÃ©seau</li>
            </ul>
        </div>

        <!-- ================= ADMIN ================= -->
        <div th:if="${#authorization.expression('hasRole(''ADMIN'')')}">
            <h3>ğŸ›  Administrateur</h3>
            <ul>
                <li>GÃ©rer les bibliothÃ©caires</li>
                <li>Superviser sa bibliothÃ¨que</li>
            </ul>
        </div>

        <!-- ================= BIBLIOTHÃ‰CAIRE ================= -->
        <div th:if="${#authorization.expression('hasRole(''BIBLIOTHECAIRE'')')}">
            <h3>ğŸ“š BibliothÃ©caire</h3>
            <ul>
                <li>GÃ©rer les prÃªts</li>
                <li>GÃ©rer les ressources</li>
            </ul>
        </div>

        <!-- ================= LECTEUR ================= -->
        <div th:if="${#authorization.expression('hasRole(''LECTEUR'')')}">
            <h3>ğŸ™‹ Lecteur</h3>
            <ul>
                <li>Consulter ses prÃªts</li>
                <li>GÃ©rer ses rÃ©servations</li>
            </ul>
        </div>

    </div>
</main>

<div th:replace="layout/footer :: footer"></div>

</body>

<script>
function toggleSidebar() {
    document.getElementById("sidebar").classList.toggle("hidden");
}

function toggleSubmenu(id) {
    const submenu = document.getElementById(id);
    submenu.style.display =
        submenu.style.display === "flex" ? "none" : "flex";
}
</script>
</html>